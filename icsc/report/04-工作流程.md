# 04 - BMAD-METHOD å·¥ä½œæµç¨‹è¯¦è§£

## 1. å·¥ä½œæµå¼•æ“è®¾è®¡

### 1.1 ä»€ä¹ˆæ˜¯å·¥ä½œæµ

**å®šä¹‰**: å·¥ä½œæµæ˜¯ä¸€ä¸ªç»“æ„åŒ–çš„ã€å¤šæ­¥éª¤çš„å¼•å¯¼è¿‡ç¨‹ï¼Œå¸®åŠ©ç”¨æˆ·å®Œæˆç‰¹å®šä»»åŠ¡ã€‚

**ç»„æˆéƒ¨åˆ†**:
```
Workflow (å·¥ä½œæµ)
â”œâ”€â”€ workflow.yaml (é…ç½®)
â”œâ”€â”€ instructions.md (æ­¥éª¤æŒ‡ä»¤)
â”œâ”€â”€ templates/ (è¾“å‡ºæ¨¡æ¿)
â”œâ”€â”€ data/ (å‚è€ƒæ•°æ® CSV)
â””â”€â”€ sub-workflows/ (å­å·¥ä½œæµ)
```

### 1.2 å·¥ä½œæµ YAML ç»“æ„

**å®Œæ•´ç¤ºä¾‹** (PRD å·¥ä½œæµ):

```yaml
# å…ƒæ•°æ®
name: prd
description: "åˆ›å»ºäº§å“éœ€æ±‚æ–‡æ¡£"
author: "BMad"

# é…ç½®æºå’Œå˜é‡
config_source: "{project-root}/bmad/bmm/config.yaml"
project_name: "{config_source}:project_name"
output_folder: "{config_source}:output_folder"
user_name: "{config_source}:user_name"
communication_language: "{config_source}:communication_language"
document_output_language: "{config_source}:document_output_language"
date: system-generated

# å·¥ä½œæµç»„ä»¶è·¯å¾„
installed_path: "{project-root}/bmad/bmm/workflows/2-plan-workflows/prd"
instructions: "{installed_path}/instructions.md"
prd_template: "{installed_path}/prd-template.md"

# è¾“å‡ºæ–‡ä»¶
status_file: "{output_folder}/bmm-workflow-status.yaml"
default_output_file: "{output_folder}/PRD.md"

# æ™ºèƒ½è¾“å…¥å‘ç°
input_file_patterns:
  product_brief:
    whole: "{output_folder}/*brief*.md"
    sharded: "{output_folder}/*brief*/index.md"
  research:
    whole: "{output_folder}/*research*.md"
    sharded: "{output_folder}/*research*/index.md"

# Web æ‰“åŒ…é…ç½®
web_bundle:
  name: "prd"
  instructions: "bmad/bmm/workflows/2-plan-workflows/prd/instructions.md"
  web_bundle_files:
    - "bmad/bmm/workflows/2-plan-workflows/prd/instructions.md"
    - "bmad/bmm/workflows/2-plan-workflows/prd/prd-template.md"
    - "bmad/core/tasks/workflow.xml"
    - "bmad/core/tasks/adv-elicit.xml"
  child_workflows:
    - create-epics-and-stories
```

### 1.3 è·¯å¾„å ä½ç¬¦è§£æ

**è§£ææ—¶æœº**: å·¥ä½œæµåŠ è½½æ—¶

**å ä½ç¬¦ç±»å‹**:

```yaml
# 1. é¡¹ç›®è·¯å¾„
{project-root}         â†’ /home/user/my-project
{installed_path}       â†’ {project-root}/bmad/bmm/workflows/prd

# 2. é…ç½®å€¼
{config_source}        â†’ é…ç½®æ–‡ä»¶è·¯å¾„
{config_source}:key    â†’ ä»é…ç½®è¯»å–ç‰¹å®šé”®å€¼
{user_name}            â†’ "Alice" (ä»é…ç½®)
{output_folder}        â†’ "/home/user/my-project/docs"

# 3. ç³»ç»Ÿç”Ÿæˆ
{date}                 â†’ "2025-11-09"
{timestamp}            â†’ "2025-11-09T10:30:00Z"
```

### 1.4 æ™ºèƒ½è¾“å…¥æ–‡æ¡£å‘ç°

**é—®é¢˜**: å¦‚ä½•å¤„ç†æ–‡æ¡£å¯èƒ½å®Œæ•´æˆ–åˆ†ç‰‡ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**: åŒå±‚æŸ¥æ‰¾

```yaml
input_file_patterns:
  product_brief:
    whole: "{output_folder}/*brief*.md"      # ä¼˜å…ˆ
    sharded: "{output_folder}/*brief*/index.md"  # é™çº§
```

**æŸ¥æ‰¾é€»è¾‘**:
1. å°è¯•åŒ¹é… `whole` æ¨¡å¼ï¼ˆå®Œæ•´æ–‡æ¡£ï¼‰
2. å¦‚æœæ²¡æ‰¾åˆ°ï¼Œå°è¯• `sharded` æ¨¡å¼ï¼ˆåˆ†ç‰‡ï¼‰
3. å¦‚æœéƒ½æ²¡æœ‰ï¼Œæç¤ºç”¨æˆ·æˆ–è·³è¿‡

**å¥½å¤„**:
- è‡ªåŠ¨é€‚åº”æ–‡æ¡£æ ¼å¼
- æ— éœ€ç”¨æˆ·æ‰‹åŠ¨æŒ‡å®š
- èŠ‚çœ tokenï¼ˆåˆ†ç‰‡æ¨¡å¼ï¼‰

---

## 2. ä»£ç†ï¼ˆAgentsï¼‰å·¥ä½œåŸç†

### 2.1 ä»£ç†ç»“æ„

**YAML å®šä¹‰** (PM ä»£ç†ç¤ºä¾‹):

```yaml
agent:
  metadata:
    id: "bmad/bmm/agents/pm.md"
    name: "John"
    title: "Product Manager"
    icon: "ğŸ“‹"
    module: "bmm"

  persona:
    role: "Investigative Product Strategist"
    identity: "äº§å“ç®¡ç†èµ„æ·±ä¸“å®¶ï¼Œ8+ å¹´ç»éªŒ..."
    communication_style: "ç›´æ¥åˆ†æï¼Œå–„äºæé—®..."
    principles:
      - "è°ƒæŸ¥æ€§æ€ç»´..."
      - "æ•°æ®é©±åŠ¨å†³ç­–..."
      - "ç²¾ç¡®æ²Ÿé€š..."

  critical_actions:
    - "åŠ è½½é…ç½® {project-root}/bmad/bmm/config.yaml"
    - "è®°ä½ç”¨æˆ·åæ˜¯ {user_name}"
    - "å§‹ç»ˆä½¿ç”¨ {communication_language} æ²Ÿé€š"

  menu:
    - trigger: "workflow-init"
      workflow: "{project-root}/bmad/bmm/workflows/workflow-status/init/workflow.yaml"
      description: "å¼€å§‹æ–°çš„å·¥ä½œæµè·¯å¾„"

    - trigger: "create-prd"
      workflow: "{project-root}/bmad/bmm/workflows/2-plan-workflows/prd/workflow.yaml"
      description: "åˆ›å»ºäº§å“éœ€æ±‚æ–‡æ¡£"

    - trigger: "validate-prd"
      validate-workflow: "{project-root}/bmad/bmm/workflows/2-plan-workflows/prd/workflow.yaml"
      checklist: "{project-root}/bmad/bmm/workflows/2-plan-workflows/prd/checklist.md"
      document: "{output_folder}/PRD.md"
      description: "éªŒè¯ PRD å®Œæ•´æ€§å’Œè´¨é‡"
```

### 2.2 ä»£ç†ç¼–è¯‘è¿‡ç¨‹

**ä» YAML åˆ° Markdown**:

```
1. è¯»å– YAML æ–‡ä»¶
   â””â”€â”€ src/modules/bmm/agents/pm.agent.yaml

2. è§£æç»“æ„
   â”œâ”€â”€ æå– metadata
   â”œâ”€â”€ æå– persona
   â””â”€â”€ æå– menu

3. æ³¨å…¥æ¿€æ´»æ­¥éª¤
   â””â”€â”€ ä» utility/models/fragments/activation-steps.xml

4. åº”ç”¨ IDE å¤„ç†å™¨
   â”œâ”€â”€ Claude Code å¤„ç†å™¨
   â”œâ”€â”€ Cursor å¤„ç†å™¨
   â””â”€â”€ å…¶ä»– 13 ä¸ª IDE

5. ç”Ÿæˆ Markdown
   â””â”€â”€ bmad/bmm/agents/pm.md

6. ç”Ÿæˆ IDE å·¥ä»¶
   â”œâ”€â”€ .claude/commands/bmad-bmm-agents-pm.md
   â”œâ”€â”€ .cursor/rules/bmad-bmm-agents-pm.md
   â””â”€â”€ å…¶ä»– IDE ç›®å½•
```

### 2.3 ä»£ç†æ¿€æ´»æµç¨‹

**ç”¨æˆ·åŠ è½½ä»£ç†æ—¶**:

```
1. IDE è¯»å–ä»£ç†æ–‡ä»¶
   â””â”€â”€ bmad/bmm/agents/pm.md

2. æ‰§è¡Œæ¿€æ´»æ­¥éª¤
   â”œâ”€â”€ åŠ è½½ bmad/bmm/config.yaml
   â”œâ”€â”€ è®¾ç½®è¿è¡Œæ—¶å˜é‡
   â”‚   â”œâ”€â”€ project_name
   â”‚   â”œâ”€â”€ user_name
   â”‚   â”œâ”€â”€ output_folder
   â”‚   â””â”€â”€ communication_language
   â””â”€â”€ æ˜¾ç¤ºä»£ç†èœå•

3. ä»£ç†å‘ˆç°è§’è‰²
   â”œâ”€â”€ "æˆ‘æ˜¯ Johnï¼Œäº§å“ç»ç†..."
   â””â”€â”€ æ ¹æ® persona å®šä¹‰äº¤äº’

4. æ˜¾ç¤ºèœå•
   â”œâ”€â”€ 1. workflow-init - å¼€å§‹æ–°å·¥ä½œæµ
   â”œâ”€â”€ 2. create-prd - åˆ›å»º PRD
   â”œâ”€â”€ 3. validate-prd - éªŒè¯ PRD
   â””â”€â”€ ...

5. ç­‰å¾…ç”¨æˆ·æŒ‡ä»¤
```

### 2.4 èœå•è§¦å‘æœºåˆ¶

**ç”¨æˆ·å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼è§¦å‘**:

```
æ–¹å¼ 1: å¿«æ·å‘½ä»¤
ç”¨æˆ·: "*create-prd"
ä»£ç†: æ‰§è¡Œ create-prd å·¥ä½œæµ

æ–¹å¼ 2: è‡ªç„¶è¯­è¨€
ç”¨æˆ·: "Let's create a PRD"
ä»£ç†: æ¨¡ç³ŠåŒ¹é…åˆ° create-prd

æ–¹å¼ 3: èœå•ç¼–å·
ç”¨æˆ·: "Run option 2"
ä»£ç†: æ‰§è¡Œèœå•ç¬¬ 2 é¡¹

æ–¹å¼ 4: ç›´æ¥æ–œæ å‘½ä»¤ï¼ˆç»•è¿‡ä»£ç†ï¼‰
ç”¨æˆ·: "/bmad:bmm:workflows:prd"
IDE: ç›´æ¥åŠ è½½å·¥ä½œæµ
```

---

## 3. å·¥ä½œæµæ‰§è¡Œæµç¨‹

### 3.1 å®Œæ•´æ‰§è¡Œå‘¨æœŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å·¥ä½œæµè§¦å‘                            â”‚
â”‚    ç”¨æˆ·: "*create-prd"                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. åŠ è½½å·¥ä½œæµé…ç½®                        â”‚
â”‚    â”œâ”€â”€ è¯»å– workflow.yaml                â”‚
â”‚    â”œâ”€â”€ è§£æå ä½ç¬¦                        â”‚
â”‚    â””â”€â”€ åŠ è½½é…ç½®æ–‡ä»¶                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. å‘ç°è¾“å…¥æ–‡æ¡£                          â”‚
â”‚    â”œâ”€â”€ æ£€æŸ¥ product-brief.md             â”‚
â”‚    â”œâ”€â”€ æ£€æŸ¥ market-research.md           â”‚
â”‚    â””â”€â”€ æ£€æŸ¥åˆ†ç‰‡ç‰ˆæœ¬                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. åŠ è½½å·¥ä½œæµç»„ä»¶                        â”‚
â”‚    â”œâ”€â”€ instructions.md (æ­¥éª¤æŒ‡ä»¤)        â”‚
â”‚    â”œâ”€â”€ prd-template.md (è¾“å‡ºæ¨¡æ¿)        â”‚
â”‚    â”œâ”€â”€ data/*.csv (å‚è€ƒæ•°æ®)             â”‚
â”‚    â””â”€â”€ ä»»åŠ¡è°ƒç”¨ (adv-elicit, workflow)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. AI ä»£ç†æ‰§è¡Œ                           â”‚
â”‚    â”œâ”€â”€ è¯»å– instructions.md              â”‚
â”‚    â”œâ”€â”€ åº”ç”¨å¼•å¯¼æ–¹æ³•                      â”‚
â”‚    â”œâ”€â”€ ä¸ç”¨æˆ·äº’åŠ¨                        â”‚
â”‚    â”œâ”€â”€ æ”¶é›†éœ€æ±‚                          â”‚
â”‚    â””â”€â”€ åº”ç”¨ template.md                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. ç”Ÿæˆè¾“å‡º                              â”‚
â”‚    â”œâ”€â”€ å†™å…¥ docs/PRD.md                  â”‚
â”‚    â”œâ”€â”€ æ›´æ–° bmm-workflow-status.yaml     â”‚
â”‚    â””â”€â”€ è°ƒç”¨å­å·¥ä½œæµ (create-epics)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. éªŒè¯å’Œå®Œæˆ                            â”‚
â”‚    â”œâ”€â”€ æ£€æŸ¥è¾“å‡ºå®Œæ•´æ€§                    â”‚
â”‚    â”œâ”€â”€ æç¤ºåç»­æ­¥éª¤                      â”‚
â”‚    â””â”€â”€ è¿”å›æ§åˆ¶ç»™ç”¨æˆ·                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æŒ‡ä»¤æ–‡æ¡£ç»“æ„

**instructions.md å…¸å‹ç»“æ„**:

```markdown
# PRD Workflow Instructions

## Activation Steps
1. Load configuration from {project-root}/bmad/bmm/config.yaml
2. Set project_name, user_name, output_folder
3. Load input documents (if available)

## Workflow Steps

### Step 1: Context Gathering
<invoke-task name="adv-elicit" method="Socratic Questioning">
Ask the user:
- What problem are we solving?
- Who are the target users?
- What are the key objectives?
</invoke-task>

### Step 2: Requirements Elicitation
<invoke-task name="adv-elicit" method="Five Whys">
For each requirement:
- Why is this important?
- What happens if we don't do it?
- How will we measure success?
</invoke-task>

### Step 3: Epic Breakdown
<invoke-task name="workflow">
Review all requirements and:
1. Group related features into Epics
2. Define Epic goals and scope
3. Estimate complexity (Story points)
</invoke-task>

### Step 4: Document Generation
Apply the PRD template:
- Load {prd_template}
- Fill in all sections
- Use {document_output_language}
- Save to {default_output_file}

### Step 5: Call Sub-Workflow
<invoke-task name="workflow" sub-workflow="create-epics-and-stories">
Break down Epics into implementable Stories
</invoke-task>

## Output Validation
- Check PRD completeness
- Verify Epic coverage
- Update workflow status
```

### 3.3 ä»»åŠ¡è°ƒç”¨æœºåˆ¶

**å†…ç½®ä»»åŠ¡**:

#### `<invoke-task name="adv-elicit">`
**ç”¨é€”**: é«˜çº§å¼•å¯¼æé—®

**æ–¹æ³•** (36 ç§):
```
- Socratic Questioning (è‹æ ¼æ‹‰åº•æé—®)
- Five Whys (5ä¸ªä¸ºä»€ä¹ˆ)
- SWOT Analysis (SWOT åˆ†æ)
- Lateral Thinking (æ¨ªå‘æ€ç»´)
- Devil's Advocate (é­”é¬¼ä»£è¨€äºº)
...
```

**ç¤ºä¾‹**:
```markdown
<invoke-task name="adv-elicit" method="Socratic Questioning">
Ask strategic questions to help the user discover:
- Root causes of the problem
- Hidden assumptions
- Alternative perspectives
</invoke-task>
```

#### `<invoke-task name="workflow">`
**ç”¨é€”**: é€šç”¨å·¥ä½œæµä»»åŠ¡

**åŠŸèƒ½**:
- è¯»å–/å†™å…¥æ–‡æ¡£
- çŠ¶æ€è·Ÿè¸ª
- å­å·¥ä½œæµè°ƒç”¨
- æ•°æ®è½¬æ¢

**ç¤ºä¾‹**:
```markdown
<invoke-task name="workflow" sub-workflow="create-epics-and-stories">
Break down the PRD into Epic and Story structure
</invoke-task>
```

---

## 4. ä»£ç†-å·¥ä½œæµ-æ¨¡å—å…³ç³»

### 4.1 å…³ç³»å›¾

```
ç”¨æˆ·æ„å›¾
    â†“
ä»£ç†èœå•
    â”œâ”€â”€ PM ä»£ç†
    â”‚   â”œâ”€â”€ *workflow-init â†’ workflow-status/init/
    â”‚   â”œâ”€â”€ *create-prd â†’ 2-plan-workflows/prd/
    â”‚   â”œâ”€â”€ *tech-spec â†’ 2-plan-workflows/tech-spec/
    â”‚   â””â”€â”€ *validate-prd â†’ éªŒè¯é€»è¾‘
    â”‚
    â”œâ”€â”€ Architect ä»£ç†
    â”‚   â”œâ”€â”€ *create-architecture â†’ 3-solutioning/architecture/
    â”‚   â””â”€â”€ *solutioning-gate-check â†’ 3-solutioning/gate-check/
    â”‚
    â””â”€â”€ Developer ä»£ç†
        â”œâ”€â”€ *dev-story â†’ 4-implementation/dev-story/
        â””â”€â”€ *story-review â†’ 4-implementation/story-review/
    â†“
å·¥ä½œæµæ‰§è¡Œ
    â”œâ”€â”€ åŠ è½½é…ç½®
    â”œâ”€â”€ å‘ç°è¾“å…¥
    â”œâ”€â”€ æ‰§è¡ŒæŒ‡ä»¤
    â””â”€â”€ ç”Ÿæˆè¾“å‡º
    â†“
æ¨¡å—æ•°æ®
    â”œâ”€â”€ BMM é…ç½® (bmad/bmm/config.yaml)
    â”œâ”€â”€ è¾“å‡ºæ–‡æ¡£ (docs/)
    â””â”€â”€ çŠ¶æ€æ–‡ä»¶ (bmm-workflow-status.yaml)
```

### 4.2 è·¨ä»£ç†å·¥ä½œæµ

**åœºæ™¯**: PRD â†’ Architecture â†’ Sprint Planning

```
é˜¶æ®µ 1: PM åˆ›å»º PRD
â”œâ”€â”€ ä»£ç†: PM (John)
â”œâ”€â”€ å·¥ä½œæµ: create-prd
â”œâ”€â”€ è¾“å‡º: docs/PRD.md, docs/Epics.md
â””â”€â”€ çŠ¶æ€: Phase 2 å®Œæˆ

é˜¶æ®µ 2: Architect è®¾è®¡æ¶æ„
â”œâ”€â”€ ä»£ç†: Architect (Winston)
â”œâ”€â”€ å·¥ä½œæµ: create-architecture
â”œâ”€â”€ è¾“å…¥: docs/PRD.md (è¯»å–éœ€æ±‚)
â”œâ”€â”€ è¾“å‡º: docs/architecture.md
â””â”€â”€ çŠ¶æ€: Phase 3 å®Œæˆ

é˜¶æ®µ 3: Architect éªŒè¯ä¸€è‡´æ€§
â”œâ”€â”€ ä»£ç†: Architect (Winston)
â”œâ”€â”€ å·¥ä½œæµ: solutioning-gate-check
â”œâ”€â”€ è¾“å…¥: PRD.md + architecture.md + Epics.md
â”œâ”€â”€ éªŒè¯: æ‰€æœ‰æ–‡æ¡£å¯¹é½
â””â”€â”€ çŠ¶æ€: å¯ä»¥å¼€å§‹å®ç°

é˜¶æ®µ 4: SM è§„åˆ’ Sprint
â”œâ”€â”€ ä»£ç†: Scrum Master (Bob)
â”œâ”€â”€ å·¥ä½œæµ: sprint-planning
â”œâ”€â”€ è¾“å…¥: Epics.md (è¯»å– Epic åˆ—è¡¨)
â”œâ”€â”€ è¾“å‡º: sprint-status.yaml
â””â”€â”€ çŠ¶æ€: Sprint å¼€å§‹

é˜¶æ®µ 5: SM åˆ›å»º Story
â”œâ”€â”€ ä»£ç†: Scrum Master (Bob)
â”œâ”€â”€ å·¥ä½œæµ: create-story
â”œâ”€â”€ è¾“å…¥: Epics.md + architecture.md
â”œâ”€â”€ è¾“å‡º: Story-001.md
â””â”€â”€ çŠ¶æ€: Story drafted

é˜¶æ®µ 6: Developer å®ç° Story
â”œâ”€â”€ ä»£ç†: Developer (Amelia)
â”œâ”€â”€ å·¥ä½œæµ: dev-story
â”œâ”€â”€ è¾“å…¥: Story-001.md + Epic-context.md
â”œâ”€â”€ æ´»åŠ¨: ç¼–ç  + æµ‹è¯•
â””â”€â”€ çŠ¶æ€: Story done
```

**å…³é”®ç‚¹**:
- å·¥ä½œæµé€šè¿‡æ–‡ä»¶ç³»ç»Ÿä¼ é€’æ•°æ®
- æ¯ä¸ªä»£ç†ä¸“æ³¨è‡ªå·±çš„èŒè´£
- çŠ¶æ€æ–‡ä»¶è·Ÿè¸ªæ•´ä½“è¿›åº¦
- Just-in-Time åŠ è½½å‡å°‘ token

---

## 5. å®é™…ä½¿ç”¨åœºæ™¯

### 5.1 åœºæ™¯ 1: Bug ä¿®å¤ (Quick Flow)

**ç”¨æˆ·ç›®æ ‡**: ä¿®å¤ç™»å½•é¡µé¢çš„éªŒè¯ Bug

**æµç¨‹**:

```
1. åˆå§‹åŒ– (Analyst)
   ç”¨æˆ·: "*workflow-init"
   ä»£ç†: "è¿™æ˜¯ä¸€ä¸ª Bug è¿˜æ˜¯æ–°åŠŸèƒ½ï¼Ÿ"
   ç”¨æˆ·: "Bug ä¿®å¤"
   ä»£ç†: "æ¨è Quick Flow Track"
   â†“
2. æŠ€æœ¯è§„æ ¼ (PM)
   ç”¨æˆ·: "*tech-spec"
   ä»£ç†: "æè¿° Bug ç°è±¡å’ŒæœŸæœ›è¡Œä¸º"
   ç”¨æˆ·: [æè¿°è¯¦ç»†]
   è¾“å‡º: tech-spec.md (åŒ…å« 3 ä¸ª Story)
   â†“
3. Sprint è§„åˆ’ (SM)
   ç”¨æˆ·: "*sprint-planning"
   ä»£ç†: "é€‰æ‹©æœ¬ Sprint çš„ Story"
   ç”¨æˆ·: [é€‰æ‹©æ‰€æœ‰]
   è¾“å‡º: sprint-status.yaml
   â†“
4. å®ç° Story (Developer)
   ç”¨æˆ·: "*dev-story"
   ä»£ç†: "è¯»å– Story-001ï¼Œå¼€å§‹å®ç°..."
   æ´»åŠ¨: ä¿®å¤ä»£ç ã€æµ‹è¯•
   è¾“å‡º: ä»£ç æäº¤ + Story æ ‡è®°ä¸º done
   â†“
5. é‡å¤æ­¥éª¤ 4 (å‰©ä½™ 2 ä¸ª Story)
   â†“
6. å®Œæˆ
   æ€»æ—¶é—´: 4-8 å°æ—¶
```

### 5.2 åœºæ™¯ 2: æ–°äº§å“ (BMad Method)

**ç”¨æˆ·ç›®æ ‡**: æ„å»ºä¸€ä¸ª SaaS é¡¹ç›®ç®¡ç†å·¥å…·

**æµç¨‹**:

```
Phase 1: åˆ†æ (å¯é€‰ä½†æ¨è)
â”œâ”€â”€ 1.1 å¤´è„‘é£æš´ (Analyst)
â”‚   ç”¨æˆ·: "*brainstorm-project"
â”‚   ä»£ç†: å¼•å¯¼åˆ›æ„æ¢ç´¢
â”‚   è¾“å‡º: åˆæ­¥æƒ³æ³•
â”‚   æ—¶é—´: 2 å°æ—¶
â”‚
â”œâ”€â”€ 1.2 äº§å“ç®€æŠ¥ (Analyst)
â”‚   ç”¨æˆ·: "*product-brief"
â”‚   ä»£ç†: å®šä¹‰äº§å“æ„¿æ™¯å’ŒèŒƒå›´
â”‚   è¾“å‡º: product-brief.md
â”‚   æ—¶é—´: 4 å°æ—¶
â”‚
â””â”€â”€ 1.3 å¸‚åœºç ”ç©¶ (Analyst, å¯é€‰)
    ç”¨æˆ·: "*market-research"
    è¾“å‡º: market-research.md
    æ—¶é—´: 8 å°æ—¶

Phase 2: è§„åˆ’ (å¿…éœ€)
â”œâ”€â”€ 2.1 PRD (PM)
â”‚   ç”¨æˆ·: "*create-prd"
â”‚   ä»£ç†: å¼•å¯¼éœ€æ±‚å®šä¹‰
â”‚   è¾“å…¥: product-brief.md (è‡ªåŠ¨å‘ç°)
â”‚   è¾“å‡º: PRD.md + Epics.md (15 ä¸ª Epic)
â”‚   æ—¶é—´: 12 å°æ—¶
â”‚
â””â”€â”€ 2.2 UX è®¾è®¡ (UX Designer, å¯é€‰)
    ç”¨æˆ·: "*create-ux-design"
    è¾“å‡º: ux-design.md
    æ—¶é—´: 16 å°æ—¶

Phase 3: æ–¹æ¡ˆ (å¿…éœ€)
â”œâ”€â”€ 3.1 æ¶æ„è®¾è®¡ (Architect)
â”‚   ç”¨æˆ·: "*create-architecture"
â”‚   è¾“å…¥: PRD.md (è‡ªåŠ¨è¯»å–)
â”‚   è¾“å‡º: architecture.md
â”‚   æ—¶é—´: 20 å°æ—¶
â”‚
â””â”€â”€ 3.2 æ–¹æ¡ˆéªŒè¯ (Architect)
    ç”¨æˆ·: "*solutioning-gate-check"
    éªŒè¯: PRD â†” Architecture â†” Epics
    æ—¶é—´: 2 å°æ—¶

Phase 4: å®ç° (è¿­ä»£)
â”œâ”€â”€ 4.1 Sprint è§„åˆ’ (SM)
â”‚   ç”¨æˆ·: "*sprint-planning"
â”‚   è¾“å‡º: sprint-status.yaml
â”‚   æ—¶é—´: 2 å°æ—¶
â”‚
â”œâ”€â”€ 4.2 Epic ä¸Šä¸‹æ–‡ (SM, æ¯ä¸ª Epic)
â”‚   ç”¨æˆ·: "*epic-tech-context"
â”‚   è¾“å…¥: architecture.md + Epic å®šä¹‰
â”‚   è¾“å‡º: Epic-auth-context.md
â”‚   æ—¶é—´: 3 å°æ—¶
â”‚
â”œâ”€â”€ 4.3 Story å¾ªç¯ (æ¯ä¸ª Story)
â”‚   â”‚
â”‚   â”œâ”€â”€ 4.3.1 åˆ›å»º Story (SM)
â”‚   â”‚   ç”¨æˆ·: "*create-story"
â”‚   â”‚   è¾“å‡º: Story-001.md (drafted)
â”‚   â”‚   æ—¶é—´: 30 åˆ†é’Ÿ
â”‚   â”‚
â”‚   â”œâ”€â”€ 4.3.2 Story å°±ç»ªæ£€æŸ¥ (SM)
â”‚   â”‚   ç”¨æˆ·: "*story-ready"
â”‚   â”‚   çŠ¶æ€: drafted â†’ ready
â”‚   â”‚   æ—¶é—´: 15 åˆ†é’Ÿ
â”‚   â”‚
â”‚   â”œâ”€â”€ 4.3.3 Story ä¸Šä¸‹æ–‡ (SM, å¯é€‰)
â”‚   â”‚   ç”¨æˆ·: "*story-context"
â”‚   â”‚   è¾“å‡º: Story-001-context.md
â”‚   â”‚   æ—¶é—´: 1 å°æ—¶
â”‚   â”‚
â”‚   â”œâ”€â”€ 4.3.4 å®ç° Story (Developer)
â”‚   â”‚   ç”¨æˆ·: "*dev-story"
â”‚   â”‚   è¾“å…¥: Story-001.md + Epic-context.md
â”‚   â”‚   æ´»åŠ¨: ç¼–ç ã€æµ‹è¯•ã€æ–‡æ¡£
â”‚   â”‚   çŠ¶æ€: ready â†’ in-progress â†’ done
â”‚   â”‚   æ—¶é—´: 4-8 å°æ—¶
â”‚   â”‚
â”‚   â””â”€â”€ 4.3.5 Code Review (Developer, å¯é€‰)
â”‚       ç”¨æˆ·: "*story-review"
â”‚       éªŒè¯: ä»£ç è´¨é‡ã€æµ‹è¯•è¦†ç›–
â”‚       æ—¶é—´: 1 å°æ—¶
â”‚
â””â”€â”€ 4.4 Sprint å›é¡¾ (SM)
    ç”¨æˆ·: "*sprint-retrospective"
    è¾“å‡º: retrospective.md
    æ—¶é—´: 2 å°æ—¶

æ€»æ—¶é—´:
- è§„åˆ’: 2 å‘¨
- å®ç°: 12-24 å‘¨ (å–å†³äºè§„æ¨¡)
```

### 5.3 åœºæ™¯ 3: æ¸¸æˆå¼€å‘ (BMGD + BMM)

**ç”¨æˆ·ç›®æ ‡**: å¼€å‘ä¸€ä¸ª 2D å¹³å°è·³è·ƒæ¸¸æˆ

**æµç¨‹**:

```
Preproduction (Game Designer)
â”œâ”€â”€ *brainstorm-game
â”‚   â””â”€â”€ ä½¿ç”¨ CIS brainstorming
â”œâ”€â”€ *game-brief
â”‚   â””â”€â”€ è¾“å‡º: game-brief.md
â””â”€â”€ æ—¶é—´: 1 å‘¨

Design (Game Designer)
â”œâ”€â”€ *gdd (Game Design Document)
â”‚   â”œâ”€â”€ æ ¸å¿ƒæœºåˆ¶
â”‚   â”œâ”€â”€ å…³å¡è®¾è®¡
â”‚   â””â”€â”€ è§’è‰²å®šä¹‰
â”œâ”€â”€ *narrative
â”‚   â””â”€â”€ æ•…äº‹å’Œä¸–ç•Œè§‚
â””â”€â”€ æ—¶é—´: 2-3 å‘¨

Technical (Game Architect)
â”œâ”€â”€ *game-architecture
â”‚   â”œâ”€â”€ Unity é¡¹ç›®ç»“æ„
â”‚   â”œâ”€â”€ çŠ¶æ€æœºè®¾è®¡
â”‚   â””â”€â”€ èµ„æºç®¡çº¿
â””â”€â”€ æ—¶é—´: 1 å‘¨

Production (ä½¿ç”¨ BMM Sprint)
â”œâ”€â”€ Sprint 1: æ ¸å¿ƒç§»åŠ¨ç³»ç»Ÿ
â”‚   â”œâ”€â”€ Epic: Player Movement
â”‚   â”œâ”€â”€ Story: å·¦å³ç§»åŠ¨
â”‚   â”œâ”€â”€ Story: è·³è·ƒ
â”‚   â””â”€â”€ Story: ç¢°æ’æ£€æµ‹
â”‚
â”œâ”€â”€ Sprint 2: å…³å¡ç³»ç»Ÿ
â”‚   â”œâ”€â”€ Epic: Level Design
â”‚   â”œâ”€â”€ Story: å…³å¡åŠ è½½
â”‚   â”œâ”€â”€ Story: æ•Œäººç”Ÿæˆ
â”‚   â””â”€â”€ Story: é“å…·ç³»ç»Ÿ
â”‚
â””â”€â”€ ... (æ›´å¤š Sprint)

æ€»æ—¶é—´: 16-24 å‘¨
```

---

## 6. é«˜çº§ç‰¹æ€§

### 6.1 Document Sharding (æ–‡æ¡£åˆ†ç‰‡)

**é—®é¢˜**: å¤§é¡¹ç›®çš„ PRD å¯èƒ½è¶…è¿‡ 50KBï¼Œæ¶ˆè€—å¤§é‡ token

**è§£å†³æ–¹æ¡ˆ**: è‡ªåŠ¨åˆ†ç‰‡

```
docs/PRD.md (50KB, åŸå§‹)
    â†“ [ä½¿ç”¨ shard-doc å·¥å…·]
docs/PRD/
â”œâ”€â”€ index.md (ç›®å½•å’Œæ€»è§ˆ)
â”œâ”€â”€ 01-overview.md (5KB)
â”œâ”€â”€ 02-requirements.md (10KB)
â”œâ”€â”€ 03-epics.md (15KB)
â””â”€â”€ 04-nfr.md (8KB)
```

**å·¥ä½œæµè‡ªåŠ¨å¤„ç†**:
```yaml
input_file_patterns:
  prd:
    whole: "{output_folder}/PRD.md"        # ä¼˜å…ˆ
    sharded: "{output_folder}/PRD/index.md"  # é™çº§
```

**Phase 4 Story å®ç°æ—¶**:
- åªåŠ è½½ PRD/03-epics.md ä¸­ç›¸å…³ Epic
- èŠ‚çœ 90%+ token
- æ›´å¿«çš„å¤„ç†é€Ÿåº¦

### 6.2 Just-in-Time Context

**åŸåˆ™**: åªåœ¨éœ€è¦æ—¶åŠ è½½ç›¸å…³ä¿¡æ¯

**å®ç° Story æ—¶åŠ è½½çš„ä¸Šä¸‹æ–‡**:
```
Story-001 å®ç°æ—¶åŠ è½½:
â”œâ”€â”€ Story-001.md (Story å®šä¹‰)
â”œâ”€â”€ Epic-auth-context.md (Epic æŠ€æœ¯æŒ‡å¯¼)
â”œâ”€â”€ Story-001-context.md (Story å®ç°ç»†èŠ‚)
â””â”€â”€ architecture.md çš„ç›¸å…³éƒ¨åˆ† (ç‰¹å®šæŠ€æœ¯å†³ç­–)

ä¸åŠ è½½:
â”œâ”€â”€ PRD.md å…¨æ–‡ âŒ
â”œâ”€â”€ å…¶ä»– Epic çš„ä¿¡æ¯ âŒ
â””â”€â”€ UX è®¾è®¡å…¨æ–‡ âŒ
```

**å¥½å¤„**:
- Token èŠ‚çœ 90%+
- AI æ›´ä¸“æ³¨
- å¤„ç†æ›´å¿«

### 6.3 å¤šä»£ç† Party Mode

**è§¦å‘**:
```
æ–¹å¼ 1: BMad Master
ç”¨æˆ·: åŠ è½½ BMad Master
ç”¨æˆ·: "*party-mode"

æ–¹å¼ 2: ç›´æ¥æ–œæ å‘½ä»¤
ç”¨æˆ·: /bmad:core:workflows:party-mode
```

**æ‰§è¡Œ**:
```
1. Party Mode å·¥ä½œæµå¯åŠ¨

2. æ‰«ææ‰€æœ‰å·²å®‰è£…ä»£ç†
   â”œâ”€â”€ BMM: PM, Analyst, Architect, SM, Dev, TEA
   â”œâ”€â”€ CIS: Carson, Maya, Dr. Quinn, Victor, Sophia
   â”œâ”€â”€ BMGD: Game Designer, Game Dev
   â””â”€â”€ BMB: BMad Builder

3. æ‰€æœ‰ä»£ç†åŠ å…¥å¯¹è¯

4. ç”¨æˆ·æå‡ºé—®é¢˜æˆ–ä»»åŠ¡

5. ä»£ç†ä»¬åä½œè®¨è®º
   â”œâ”€â”€ PM: "ä»äº§å“è§’åº¦..."
   â”œâ”€â”€ Architect: "æŠ€æœ¯ä¸Šæˆ‘ä»¬éœ€è¦..."
   â”œâ”€â”€ Carson: "è®©æˆ‘ä»¬å¤´è„‘é£æš´ä¸€ä¸‹..."
   â””â”€â”€ Game Designer: "æ¸¸æˆæœºåˆ¶åº”è¯¥..."

6. ç»¼åˆè¾“å‡ºå¤šè§’åº¦å»ºè®®
```

**æœ€ä½³ä½¿ç”¨åœºæ™¯**:
- æˆ˜ç•¥è§„åˆ’ï¼ˆéœ€è¦å¤šé¢†åŸŸè¾“å…¥ï¼‰
- åˆ›æ„æ¢ç´¢ï¼ˆéœ€è¦å‘æ•£æ€ç»´ï¼‰
- æ¶æ„è¯„å®¡ï¼ˆéœ€è¦å¤šè§’åº¦å®¡è§†ï¼‰
- å¤æ‚é—®é¢˜ï¼ˆæ²¡æœ‰æ˜æ˜¾ç­”æ¡ˆï¼‰

---

## 7. çŠ¶æ€è·Ÿè¸ªç³»ç»Ÿ

### 7.1 bmm-workflow-status.yaml

**ç”¨é€”**: è·Ÿè¸ªæ•´ä½“å·¥ä½œæµè¿›åº¦

**ç»“æ„**:
```yaml
project:
  name: "My SaaS Project"
  track: "bmad-method"  # quick-flow / bmad-method / enterprise

phases:
  phase1_analysis:
    status: "completed"
    workflows:
      - brainstorm-project: "completed"
      - product-brief: "completed"
      - market-research: "skipped"

  phase2_planning:
    status: "completed"
    workflows:
      - prd: "completed"
      - create-epics-and-stories: "completed"
      - create-ux-design: "completed"

  phase3_solutioning:
    status: "completed"
    workflows:
      - architecture: "completed"
      - solutioning-gate-check: "completed"

  phase4_implementation:
    status: "in-progress"
    current_sprint: 1
    workflows:
      - sprint-planning: "completed"
      - epic-tech-context: "in-progress"

recommendations:
  next_workflow: "epic-tech-context"
  next_agent: "sm"
  reason: "éœ€è¦ä¸ºç¬¬ä¸€ä¸ª Epic åˆ›å»ºæŠ€æœ¯ä¸Šä¸‹æ–‡"
```

### 7.2 sprint-status.yaml

**ç”¨é€”**: è·Ÿè¸ª Sprint å’Œ Story çŠ¶æ€

**ç»“æ„**:
```yaml
project:
  name: "My SaaS Project"
  current_sprint: 1
  sprint_start: "2025-11-01"
  sprint_end: "2025-11-15"

epics:
  - id: "epic-001"
    name: "User Authentication"
    status: "in-progress"
    selected_for_sprint: true
    stories:
      - id: "story-001"
        title: "User Login"
        status: "done"
        assigned: "2025-11-02"
        completed: "2025-11-05"

      - id: "story-002"
        title: "User Registration"
        status: "in-progress"
        assigned: "2025-11-05"

      - id: "story-003"
        title: "Password Reset"
        status: "ready"

  - id: "epic-002"
    name: "Dashboard"
    status: "backlog"
    selected_for_sprint: false

velocity:
  current_sprint_points: 21
  completed_points: 8
  remaining_points: 13
```

**ä»£ç†ä½¿ç”¨**:
- **SM**: è¯»å–çŠ¶æ€ï¼Œå†³å®šä¸‹ä¸€ä¸ª Story
- **Developer**: è¯»å–å½“å‰ Story è¯¦æƒ…
- **æ‰€æœ‰ä»£ç†**: äº†è§£é¡¹ç›®æ•´ä½“è¿›åº¦

---

## 8. å°ç»“

BMAD å·¥ä½œæµç³»ç»Ÿçš„ç‰¹ç‚¹ï¼š

âœ… **é…ç½®é©±åŠ¨** - YAML å®šä¹‰ï¼Œçµæ´»å¯æ‰©å±•
âœ… **æ™ºèƒ½åŠ è½½** - è‡ªåŠ¨å‘ç°è¾“å…¥ï¼Œæ”¯æŒåˆ†ç‰‡
âœ… **ä»£ç†ååŒ** - æ¸…æ™°çš„èŒè´£åˆ†å·¥
âœ… **çŠ¶æ€è·Ÿè¸ª** - å§‹ç»ˆçŸ¥é“"ä¸‹ä¸€æ­¥åšä»€ä¹ˆ"
âœ… **Token ä¼˜åŒ–** - Just-in-Time Context, Document Sharding
âœ… **å¤šä»£ç†åä½œ** - Party Mode æ”¯æŒå¤æ‚å†³ç­–

**ä¸‹ä¸€æ­¥**: é˜…è¯» [05-ä¼ä¸šåº”ç”¨æ–¹æ¡ˆ.md](./05-ä¼ä¸šåº”ç”¨æ–¹æ¡ˆ.md) äº†è§£å¦‚ä½•åº”ç”¨äºä¼ä¸š
